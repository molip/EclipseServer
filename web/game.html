<!DOCTYPE HTML>
<html>
<head>

<script src="game.js"></script>
<script src="input.js"></script>
<script src="output.js"></script>
<script src="map.js"></script>
<script src="explore.js"></script>
<script src="influence.js"></script>

<script>
    data.playerID = "%PLAYER_ID%"
    var webSocketURL = "%WSURL%"
</script>

</head>
<body onload="load()">
<style>
    body {
        font-family:'Tahoma'
    }
    h2 {
        font-family: Impact;
    }
    #output {
        height:120px; font:12px Courier; overflow:auto; border:1px solid;

    }
	.panel {
        border:1px solid;
		display:none;
	}
    #game_list_panel {
        padding:5px;
    }
</style>

<div id="game_list_panel" class="panel">
	<h2>Game List</h2> 
	<div id="game_list_content">
	</div>
</div>
<div id="lobby_panel" class="panel">
	<h2>Lobby</h2> 
	<a href="Back to game list" onclick="SendExitGame();return false;">Back to game list</a>
	<div id="lobby_content">
	</div>
	<div id="lobby_owner_controls">
	</div>
</div>
<div id="choose_panel" class="panel">
	<h2>Choose Team</h2> 
	<a href="Back to game list" onclick="SendExitGame();return false;">Back to game list</a>
	<div id="choose_team_content"></div>
	<div id="choose_team"></div>
</div>
<div id="game_panel" class="panel" style="height:640px">
	<div id="map_panel" style="margin:5px; float:left;">
		<div id="map_ctrls" style="height:27px"> <!-- Ensure map_canvas doesn't move after loading-->
			<input type = "image" id="map_zoom_in_btn" src="/images/btn_zoom_in.png" onclick="Map.Zoom(-1)">
			<input type = "image" id="map_zoom_out_btn" src="/images/btn_zoom_out.png" onclick="Map.Zoom(1)">
			<input type = "image" id="map_pan_left_btn" src="/images/btn_pan_l.png" onclick="Map.PanX(-1)">
			<input type = "image" id="map_pan_right_btn" src="/images/btn_pan_r.png" onclick="Map.PanX(1)">
			<input type = "image" id="map_pan_up_btn" src="/images/btn_pan_u.png" onclick="Map.PanY(-1)">
			<input type = "image" id="map_pan_down_btn" src="/images/btn_pan_d.png" onclick="Map.PanY(1)">
			<input type = "image" id="map_pan_centre_btn" src="/images/btn_pan_centre.png" onclick="Map.PanCentre()">
		</div>
		<div id="map">
			<canvas id="map_canvas" width="600" height="600" style="background-color:black"></canvas>
		</div>
	</div>
	<div id="players" style="border:1px solid; margin:5px 5px 5px 610px; padding:5px; float:none"> <!-- "float:none" uses all remaining width -->
		<a href="Back to game list" onclick="SendExitGame();return false;">Back to game list</a>
		<div id="game_tabs"></div>
		<div id="game_pages"></div>
		<div id="choose_undo" style="display:none">
			<button type="button" id="choose_undo_btn" onclick="SendChooseUndo()">Undo</button>
		</div>
		<div id="choose_action" style="display:none">
			<button id="choose_action_explore_btn" type="button" onclick="SendChooseAction('explore')">Explore</button>
			<button id="choose_action_influence_btn" type="button" onclick="SendChooseAction('influence')">Influence</button>
			<button id="choose_action_research_btn" type="button" onclick="SendChooseAction('research')">Research</button>
			<button id="choose_action_upgrade_btn" type="button" onclick="SendChooseAction('upgrade')">Upgrade</button>
			<button id="choose_action_build_btn" type="button" onclick="SendChooseAction('build')">Build</button>
			<button id="choose_action_move_btn" type="button" onclick="SendChooseAction('move')">Move</button>
			<button id="choose_action_colonise_btn" type="button" onclick="SendChooseAction('colonise')">Colonise</button>
			<button id="choose_action_diplomacy_btn" type="button" onclick="SendChooseAction('diplomacy')">Diplomacy</button>
			<button type="button" onclick="SendChooseCommit()">End Turn</button>
		</div>
		<div id="choose_explore_pos" style="display:none">
			Choose hex to explore...
			<button id="choose_explore_pos_btn" type="button" onclick="data.action.SendPos()">Next</button>
			<button id="choose_explore_pos_reject_btn" type="button" onclick="Explore.SendReject()">Skip</button>
		</div>
		<div id="choose_explore_hex" style="display:none">
			Choose hex placement...
			<button type="button" onclick="data.action.Rotate(-1)"><-</button>
			<button type="button" onclick="data.action.Rotate(1)">-></button>
			<button id="choose_explore_hex_switch_btn" type="button" onclick="data.action.Switch()">Switch Hex</button>
			<input type = "checkbox" id="choose_explore_hex_influence_check">Influence
			<button type="button" onclick="data.action.SendHex()">Next</button>
			<button type="button" onclick="Explore.SendReject()">Reject</button>
		</div>
		<div id="choose_explore_discovery" style="display:none">
			You have discovered something!
			<button id="choose_explore_discovery" type="button" onclick="data.action.SendDiscovery()">Next</button>
		</div>
		<div id="choose_influence_src" style="display:none">
			Choose disc to move...
			<button id="choose_influence_src_btn" type="button" onclick="data.action.Send()">Next</button>
			<button id="choose_explore_pos_reject_btn" type="button" onclick="Explore.SendReject()">Finish</button>
		</div>
		<div id="choose_influence_dst" style="display:none">
			Choose disc destination...
			<button id="choose_influence_dst_btn" type="button" onclick="data.action.Send()">Next</button>
		</div>
	</div>
</div>
<br>
<div id="output" style="clear:both">
</div>
</body>
</html>
